<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Super Form Validator</title>
	<link rel="stylesheet" href="./styles.css">
</head>
<body>

	<form id="form">
		<div>
			<label>Something</label>
			<input type="text" name="something"></div>
		<div>
			<label>Name</label>
			<input type="text" name="name"></div>
		<div>
			<label>Email</label>
			<input type="email" name="email"></div>
		<div>
			<label>Mobile</label>
			<input type="tel" name="mobile"></div>
		<div>
			<label>Password</label>
			<input type="password" name="password"></div>
		<div>
			<label>Confirm password</label>
			<input type="password" name="confirm_password"></div>
		<div>
			<label>Resume</label>
			<input type="file" name="resume" multiple>
		</div>
		<div>
			<label>Gender</label>
			<div>
				<label><input type="radio" name="gender" value="male"> Male</label>
				<label><input type="radio" name="gender" value="female"> Female</label>
				<label><input type="radio" name="gender" value="other"> Other</label>
			</div>
		</div>
		<button>Submit</button>
	</form>
	<script src="../dist/form-validator.js"></script>
	<script>
		// Register Custom validation rule
		FormValidator.registerRule({
			name: 'password',
			paramType: 'none',
			argumentType: 'any',
			aliases: ['password'],
			validators: [
				{
					pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,
					message: `<div>
			<span>@{field} must have</span>
			<ul>
				<li>8 characters in length</li>
				<li>One lowercase letter</li>
				<li>One uppercase letter</li>
				<li>One digit</li>
				<li>One special character (@$!%*?&)</li>
			</ul>
		</div>`
				}
			]
		});

		// advance definition with casting and error message
		const validator = FormValidator.init('#form', {
			something: {
				require: true,
				inList: ['name', 'email', 'address']
			},
			name: {
				require: true,
				minLength: 2,
				maxLength: 50,
				trim: true,
				toTitlecase: true,
			},
			email: {
				require: true,
				email: true,
				trim: true,
				toLowercase: true,
			},
			mobile: {
				require: true,
				integer: true,
				length: 10,
				custom: {
					pattern: /^[6-9][0-9]{9}$/,
					message: '[@{field}] value must have valid mobile.'
				},
				toInteger: true,
			},
			password: {
				require: true,
				password: true,
				// minLength: 8,
				// maxLength: 20,
				// contains: '@',
				// notContains: '\'',
				// custom: {
				// 	pattern: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,
				// 	message: '@{field} must have at least one lowercase, uppercase, digit & special character from (@$!%*?&)'
				// },
				// messages: {
				// 	minLength: '@{field} must have at least @{length} characters',
				// 	maxLength: '@{field} must not exceed @{length} characters',
				// 	contains: '@{field} must contain @{other}',
				// 	notContains: '@{field} must not contain @{other}'
				// }
			},
			confirm_password: {
				require: true,
				match: 'password'
			},
			resume: {
				require: true,
				'maxFiles': 1,
				'maxFileSize': '20kb',
				'fileAccepts': ['png', 'jpg', 'jpeg']
			},
			gender: {
				require: true,
			}
		}, (valid) => {
			console.log(valid);
			validator.reset();
		}, console.log, { errorElement: 'span', errorClass: 'validation-error input-error', errorId: 'invalid-@{field}-error'});
		
		validator.enableLiveValidation(['blur', 'change', 'input']);
	</script>
</body>
</html>